# rewrite rules
# for https test
domain www.example.io {
  # rewrite / to 8000;
  
  location / {
    proxy_pass http://127.0.0.1:8000/;
    set_header Access-Control-Allow-Origin *;
  }

  location /echo {
    echo <div>current page url: $uri</div>;
    echo <h1>hello_echo</h1>;
    echo <p>test echo directive</p>;
    echo <div>
    echo   <span>div &gt; span</span>
    echo </div>
    echo <p>finish</p>;
    
    # proxy_pass http://127.0.0.1:8000/;
  }

  # http://www.example.io/file?index.html
  location /file {
    send_file ./public/$query_string;
  }

  # http://www.example.io/file/public/index.html
  location ~ /\/file\/(.*)/ {
    send_file ./$1;
  }

  # static files
  location /static/ {
    alias ./public/;

    set_header server hiproxy;
  }
}
